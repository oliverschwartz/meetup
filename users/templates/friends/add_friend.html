<!-- users/templates/profile_page.html -->
{% extends 'main.html' %}

{% load crispy_forms_tags %}
{% load friendshiptags %}

{% block title %}Add Friends{% endblock title %}

{% block sidebar-content %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/main.css' %}">

    <!-- Profile Information -->
    <div id='friends' class="bodycontent">
        <a href="{% url 'friends' %}" class="nav"> Go to Friend Page </a> <br>
        <p> This is the add friends page </p>

        <h2>Search</h2>

        <form method="get" action=".">

        <table>
            {{ form.as_table }}
            <tr>
                <td>&nbsp;</td>
                <td>
                    <input type="submit">
                </td>
            </tr>
        </table>
        </form>

            {% if query %}
            <h3>Users</h3>
            {{ count }}

            {% for user in query %}
                <p>
                    Name: {{user.first_name}} {{ user.last_name}} Username: {{ user.username }}
                    <a href ="{% url 'add_friend' pk=user.pk %}">
                    <button type="button" class="btn btn-primary">Add Friend</button>
                    </a>

                </p>
            {% empty %}
                <p>No results found.</p>
            {% endfor %}

        {% else %}
            {# Show some example queries to run, maybe query syntax, something else? #}
        {% endif %}

    </div>

{% endblock sidebar-content %}
